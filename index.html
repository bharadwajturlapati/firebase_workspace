<!DOCTYPE html>
<html>
<head>
	<title>STAR Installations</title>
	<meta name="viewport" content="initial-scale=1.0">
	<meta charset="utf-8">
	<link rel="icon" type="image/png" href="img/fav32.png">
	<style>
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}
		#map {
			height: 100%;
		}
		.iconDetails {
			margin-left:0%;
			float:left; 
			max-width:200px;
			max-height:32px !important;
			width: auto;
			height: auto;	
		} 

		.topbar {
			width:100%;
			height:auto;
			padding:1%;
		}

		h3 {
			text-align:center;
			margin:11px;
		}

	</style>
	<script src="js/app.js"></script>
	<link rel="import" href="other_components/auth-logout.html">
	<script>
		var isloggedin = function(){ 
			var isLoggedin = window.localStorage.getItem("firebase:session::resplendent-fire-9817");
			if(isLoggedin==null){
				window.location.href = "index_login.html"
			}
		}
		isloggedin();
	</script>
</head>
<body>
	<div class='topbar'>
			<img src='img/logo.jpg' class='iconDetails'></img>
			<h3>Smart Termination Grid</h3>
			<div class = "user" id="user_name"></div>
			<auth-logout></auth-logout>
	</div>
	<script>getusername()</script>
	<div id="map"></div>
	<script>
		var map;

		function initMap() {
			var rst1LatLng = {lat: 40.024361, lng: 15.774875};
			var rst2LatLng = {lat: 40.4, lng: 16.45};
			var rst3LatLng = {lat: 40.7, lng: 15.32};
			map = new google.maps.Map(document.getElementById('map'), {
				center: {lat: 40.024361, lng: 15.774875},
				zoom: 8,
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				disableDefaultUI: true
			});
			var rst1marker = new google.maps.Marker({
				position: rst1LatLng,
				map: map,
				animation: google.maps.Animation.DROP,
				title: 'R',
				label: 'R'
			});
			var rst2marker = new google.maps.Marker({
				position: rst2LatLng,
				map: map,
				animation: google.maps.Animation.DROP,
				title: 'S',
				label: 'S'
			});
			var rst3marker = new google.maps.Marker({
				position: rst3LatLng,
				map: map,
				animation: google.maps.Animation.DROP,
				title: 'T',
				label: 'T'
			});
			rst1marker.addListener('click', function() {
				window.open("http://metrics.replstar.com/dashboard/db/star");
			});
			rst2marker.addListener('click', function() {
				window.open("http://metrics.replstar.com/dashboard/db/star");
			});
			rst3marker.addListener('click', function() {
				window.open("http://metrics.replstar.com/dashboard/db/star");
			});
		}
		function drop() {
			for (var i =0; i < markerArray.length; i++) {
				setTimeout(function() {
					addMarkerMethod();
				}, i * 200);
			}
		}
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoyftJ-6dpSFHmjJ5DSEkoCevnxafXazM&callback=initMap"
	async defer></script>
</body>
</html>